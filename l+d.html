<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Tools and learning resources</title>

<script src="site_libs/header-attrs-2.7/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="images/acalat_theme.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-sm-12 col-md-4 col-lg-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-sm-12 col-md-8 col-lg-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Statistics Production Guidance</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="l+d.html">Learning Resources</a>
</li>
<li>
  <a href="rap.html">Processes and RAP</a>
</li>
<li>
  <a href="ud.html">Data Standards</a>
</li>
<li>
  <a href="cd.html">Writing Content</a>
</li>
<li>
  <a href="pub.html">Publishing Statistics</a>
</li>
<li>
  <a href="ees.html">EES</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="mailto:statistics.development@education.gov.uk">
    <span class="fas fa-envelope-o"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Tools and learning resources</h1>

</div>


<p class="text-muted">
A collection of useful learning resources, and information on the recommended tools to get you started.
</p>
<hr />
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<hr />
<p>As statistics producers we require a variety of tools to be able to process our data, and as you probably know, there are a wealth of them out there to process and analyse data.</p>
<p>As a part of developing resources to help us integrate the principle of RAP into our processes, it is important that we set a clear direction on what tools we will be actively supporting teams to use. Below are the recommended tools that will give us the most power to do what we need, and are the best supported with resources for developing the necessary skills to use them. These have large user communities in DfE, and are already working in our current IT setup.</p>
<p>For best practice when using software and coding in our process, see our <a href="RAP.html" target="_blank" rel="noopener noreferrer">guidance on RAP</a> the <a href="https://dfe-analytical-services.github.io/good-code-practice/index.html" target="_blank" rel="noopener noreferrer">DfE Good Code Practice guide</a>.</p>
<hr />
</div>
<div id="recommended-tools" class="section level1">
<h1>Recommended tools</h1>
<hr />
<div class="alert alert-dismissible alert-info">
<p>Teams are welcome to use whatever tools they want, as long as the processes involved meet the <a href="rap.html#core_principles" target="_blank" rel="noopener noreferrer">principles of RAP</a>.</p>
</div>
<p><strong>Database management - Microsoft SQL Server Management Studio and SQL (Structured Query Language)</strong></p>
<ul>
<li>SQL servers are where most of DfE’s data is held, and with a wide usage community already in place and a language that is pleasantly intuitive and easy to use, it is an obvious choice for this task. The majority of us already have Microsoft SQL Server Management Studio (MSSMS) downloaded through the software centre. Moreover, SQL allows us to do enough manipulation and analysis to production some of our publications. Note that SQL is the language, and MSSMS is the environment that we mostly use to write and run it in DfE.</li>
</ul>
<p><strong>Data manipulation and analysis - RStudio and R</strong></p>
<ul>
<li>We recommend to use R where SQL can’t do everything that you need in terms of manipulation and analysis. It is also an extremely powerful tool to use when creating data visualisations. R already has a strong community within DfE, it can pull in data stored in SQL servers and integrate SQL queries, as well as being a leading language in the world of analysis and data. R (the language), RStudio (the best environment to write and run R), and RTools (a useful package), are all available from the software centre.</li>
</ul>
<p><strong>Version control - Azure DevOps and Git</strong></p>
<ul>
<li>Version control can be implemented through having a sensible folder structure and clear file naming conventions, however we do recommend that in the longer term we move towards to using Git to help us version control the code that we write. It is widely used across DfE and integrates neatly with our use of Azure DevOps, as well as being the current leading version control software in the world of coding with over <a href="https://insights.stackoverflow.com/survey/2018#work-_-version-control" target="_blank" rel="noopener noreferrer">87% of 74,298 stack overflow users using it</a>. To highlight the scale of this dominance, Subversion came in in second place at a paltry 16%. As far as making repositories publicly accessible is concerned we can easily mirror our repositories in the DfE Analytical Services area on <a href="https://github.com/dfe-analytical-services" target="_blank" rel="noopener noreferrer">GitHub</a>.</li>
</ul>
<hr />
</div>
<div id="learning-these-tools" class="section level1">
<h1>Learning these tools</h1>
<hr />
<p><strong>Software language</strong> – the literal language of the code you write, this defines the syntax and commands to use.</p>
<p><strong>Integrated development environment (IDE)</strong> – a software application within which you can actively develop and execute code.</p>
<p>Most software will have a language and a commonly used IDE. If you are looking for an all-purpose IDE for editing and running code, then we would recommend installing Visual Studio Code from the software centre.</p>
<p>As a general approach, many people find it useful to use the resources below to get to grips with the basics of the languages first and get their head around the concepts of writing code, and what it is we can do with it. Some of the guides below for R are particularly good for walking you through this step by step.</p>
<div class="alert alert-dismissible alert-info">
<p>If you’re overwhelmed by the list of resources below, feel free to get in touch with us so that we can advise the most suitable ones for you look to at.</p>
</div>
<p>Getting a friend or colleague to show us around the environment on our own machine such as MSSMS or RStudio, and how to access real data using the code is a critical step. It’s important not to overlook the practical element of how you use these tools on your own machine with your own data, as you will need to be using these tools in your day to day processes to properly start learning. It’s like driving a car, you can have as many theory lessons as you want, but the true learning happens when you’re left alone in full control of the machine!</p>
<p>We are always on the look out for resources that will help you to have the skills needed to incorporate the principles of RAP into improving your own processes. There will be many more just a google away, and genuinely, <strong>Google is the single most powerful learning resource out there</strong>, whether it leads you to a StackOverflow answer to your problem, or to an online training course, it will have your needs covered. We appreciate that it can be daunting and overwhelming at first though, which is why we’re pooling together links to particularly relevant resources on this page. Let us know if there’s any you’d like to see added!</p>
<hr />
</div>
<div id="general-resources" class="section level1">
<h1>General resources</h1>
<hr />
<ul>
<li><p><a href="www.google.co.uk" target="_blank" rel="noopener noreferrer">Google</a> - while it can be overwhelming and daunting at first, do not be afraid to type your questions into a search engine, even the most experienced professionals spend a lot of time on forums such as <a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer">Stack Overflow</a>.</p></li>
<li><p>The <a href="https://rsconnect/rsc/DS-Resources/" target="_blank" rel="noopener noreferrer">DfE Data Science resource tool</a>, in here you can access a plethora of materials, from coffee and coding talks to online guidebooks.</p></li>
<li><p>ESFA have also produced a useful <a href="https://rsconnect/rsc/esfa-r-training/" target="_blank" rel="noopener noreferrer">guide to using R and Git</a>. This takes you in from the beginning, teaching you how to use RStudio and later on even includes some information on Shiny apps and more complex topics. For more information on RShiny apps, I’d recommended joining the <a href="https://teams.microsoft.com/l/channel/19%3A311ec2e4d46b4dd38f0d61f05fb93383%40thread.skype/tab%3A%3A1fc89e11-fa70-473d-b993-df467ca0d459?groupId=b95c605d-8fbc-4e4d-9a76-2f7d1c55e70a&amp;tenantId=fad277c9-c60a-4da1-b5f3-b3b8b34a82f9">R Shiny Developers</a> teams group.</p></li>
<li><p>Connor Quinn has compiled a <a href="https://educationgovuk.sharepoint.com/sites/sarpi/g/SitePages/DataEngineeringResources.aspx" target="_blank" rel="noopener noreferrer">list of resources for Data Engineering</a>. There’s a good amount of overlap with this page, though for more advanced SQL and database resources this is a fantastic place to go.</p></li>
<li><p>There is also a handy <a href="https://github.com/Chris-Engelhardt/data_sci_guide" target="_blank" rel="noopener noreferrer">general data science resources list</a>, that includes plenty of open-source resources for R and SQL, with Python, Git, and shell included in there too.</p></li>
<li><p>If the above list doesn’t have something for you then check out the resources in the <a href="https://github.com/sindresorhus/awesome" target="_blank" rel="noopener noreferrer">awesome lists</a> and <a href="https://github.com/qinwf/awesome-R" target="_blank" rel="noopener noreferrer">awesome R</a>, which contain more resources than you could shake a stick at.</p></li>
<li><p><a href="https://learn.datacamp.com/" target="_blank" rel="noopener noreferrer">DataCamp</a> has a multitude of courses across R, SQL, Git and other languages. Many of the courses are free to start, and if you email <a href="mailto:gss.capability@statistics.gov.uk" class="email">gss.capability@statistics.gov.uk</a>, they can guide you through the process of getting access to one of their premium subscriptions for a few weeks, which allows you to access the rest of the courses. Datacamp as a company are often morally objected to, and are widely vetoed across the data science community.</p></li>
<li><p>Earlier this year we had our Data Science week, which contained a wide variety of talks across Data Science within the department, everything was recorded and can be found on the <a href="https://web.microsoftstream.com/group/df01862c-7ad4-4f25-b7f2-df7353af52a9" target="_blank" rel="noopener noreferrer">associated microsoft stream page</a>.</p></li>
<li><p>There is a wealth of information on the <a href="https://educationgovuk.sharepoint.com/sites/sarpi/g/SitePages/Quality-Assurance.aspx" target="_blank" rel="noopener noreferrer">DfE Quality Assurance wiki</a>, and while much of this is aimed at areas that use modelling, plenty of it is applicable to how we QA our data too.</p></li>
<li><p>Finally, if after reading through this website you still need any convincing as to why R and Git are worth your time, then have a look at the <a href="https://psysandsy.github.io/boons-r-git.html" target="_blank" rel="noopener noreferrer">Boons of R and Git</a> by David Sands.</p></li>
</ul>
<hr />
</div>
<div id="getting-started" class="section level1">
<h1>Getting started</h1>
<hr />
<p>The Statistics Development Team invites teams to take part in our partnership programme. The programme can help individuals with:</p>
<ul>
<li>Using a relevant project to develop new coding skills and improving current confidence</li>
<li>Streamlining data production processes to free up time for secondary analysis</li>
<li>Improving the presentation and consistency of statistical products for users</li>
</ul>
<p>The partnership programme is a great opportunity to work with the Statistics Development Team, using protected time to work on things that are otherwise usually deprioritised. We understand the pressures of BAU work mean that development time is often hard fit in, but this programme offers designated support and clear project planning from our team so that these improvements can be achieved. Putting in the work at these early stages will save more time and resource in the long run, and we are keen to support as many teams as possible to free up time in the future for even more interesting analysis.</p>
<p><strong>The Ask</strong></p>
<p>We ask that you/a designated member of your team are given protected time to work on a specific project, with support from us. Some examples of previous projects we have helped support are:</p>
<ul>
<li>The automation of the SEN2 release, creating automated QA reports and all EES outputs at the click of a button.</li>
<li>The automation of the HoP rolling brief document, removing arduous tasks like copying, pasting, and formatting in Word.</li>
</ul>
<p>The time commitment of the programme will be dependent on the size of the work and what level of support is required. <a href="mailto:Statistics.DEVELOPMENT@education.gov.uk">Please get in touch with us</a> if you are interested and would like to discuss further.</p>
<hr />
</div>
<div id="sql" class="section level1">
<h1>SQL</h1>
<hr />
<div id="what-is-it" class="section level2">
<h2>What is it</h2>
<p>SQL or Structured Query Language is a programming language used to talk to relational database management systems.</p>
<hr />
</div>
<div id="what-is-it-for" class="section level2">
<h2>What is it for</h2>
<p>SQL provides us with a language primarily for querying databases to extract data, though it is also capable of some basic data processing and analysis.</p>
<hr />
</div>
<div id="how-to-get-it" class="section level2">
<h2>How to get it</h2>
<p>Download SSMS from the DfE software centre, talk to your team about getting access to the appropriate SQL servers and databases where the data you need to access is held and start writing SQL queries.</p>
<hr />
</div>
<div id="best-place-to-start" class="section level2">
<h2>Best place to start</h2>
<p>Andy Brook’s excellent Introduction to SQL session, giving a visual overview of the basics of querying with SQL:</p>
<div align="center">
<iframe width="640" height="360" align="middle" src="https://web.microsoftstream.com/embed/video/2a42789f-5183-4a79-b159-ec4a46e530d7?autoplay=false&amp;showinfo=false" allowfullscreen style="border:none;">
</iframe>
</div>
<p>The follow up intermediate session can be found below.</p>
<hr />
</div>
<div id="best-syntax-lookup" class="section level2">
<h2>Best syntax lookup</h2>
<ul>
<li><a href="https://www.w3schools.com/sql/default.asp" target="_blank" rel="noopener noreferrer">w3schools.com</a> offers a useful guide through the most common SQL commands.</li>
</ul>
<hr />
</div>
<div id="other-resources" class="section level2">
<h2>Other resources</h2>
<ul>
<li><p>This <a href="https://github.com/TomFranklin/sql-applied-data-tidying/blob/master/data_tidying_l_and_d.sql" target="_blank" rel="noopener noreferrer">tutorial script</a> by Tom Franklin is a particularly good starting point as it includes the data you are manipulating, so you don’t need to worry about connecting to or getting access to specific databases before you can then run anything. Simply open up Microsoft SQL Server Management Studio (downloadable through the software centre), and start playing with that query.</p></li>
<li><p>Avision Ho created the this <a href="https://github.com/avisionh/Training-SQL" target="_blank" rel="noopener noreferrer">SQL training course</a>.</p></li>
<li><p>The <a href="https://www.khanacademy.org/computing/computer-programming/sql" target="_blank" rel="noopener noreferrer">Khan academy</a> offers a great free introduction to the basics of SQL.</p></li>
<li><p>It’s also worth taking a look at Jon Holman’s presentation on <a href="https://educationgovuk.sharepoint.com/sites/sarpi/g/WorkplaceDocuments/Forms/AllItems.aspx?RootFolder=%2Fsites%2Fsarpi%2Fg%2FWorkplaceDocuments%2FInducation%20learning%20and%20career%20development%2FCoffee%20and%20Coding%2F180321%5Fjonathan%5Fsql&amp;FolderCTID=0x012000C61C1076C17C5547A6D6D8C2A27B5D97" target="_blank" rel="noopener noreferrer">‘good to know’ SQL functions</a>.</p></li>
<li><p>MoJ have produced a <a href="https://moj-analytical-services.github.io/SQL_from_square_one/CTEs.html" target="_blank" rel="noopener noreferrer">SQL from square one</a> guide to using CTE’s in SQL as well as running SQL from RStudio</p></li>
</ul>
<p>Andy’s follow up intermediate SQL session, covering more advanced features of SQL:</p>
<div align="center">
<iframe width="640" height="360" align="middle" src="https://web.microsoftstream.com/embed/video/0b96598e-1d4c-4c5e-807a-4efc264bc1cc?autoplay=false&amp;showinfo=false" allowfullscreen style="border:none;">
</iframe>
</div>
<hr />
</div>
<div id="tips-for-using-sql" class="section level2">
<h2>Tips for using SQL</h2>
<hr />
<div id="setting-up-a-sql-area" class="section level3">
<h3>Setting up a SQL area</h3>
<p>More information to follow.</p>
<hr />
</div>
<div id="givinggetting-access" class="section level3">
<h3>Giving/getting access</h3>
<p>To gain access to a SQL database, you must have written confirmation from the database owner specifying whether your access is read-only or both read and write.</p>
<p>If the area you require access to is in the <em>T1PRMDRSQL,55842</em> SQL server, contact the <a href="mailto:PupilData.REPOSITORY@education.gov.uk">PDR team</a> with your permission attached, stating the name of the database you want access to.</p>
<p>If the area is in any other server, raise a request through the central IT service portal under “non-standard” &gt; “any other request”. In your request make sure you attach the written confirmation and specify:</p>
<ul>
<li>The server name</li>
<li>The database name</li>
<li>Whether it’s read or write access you need</li>
</ul>
<hr />
</div>
<div id="copying-data-from-the-istore" class="section level3">
<h3>Copying data from the iStore</h3>
<p>More information to follow.</p>
<hr />
</div>
<div id="sql-best-practice" class="section level3">
<h3>SQL best practice</h3>
<p>Here are some tips to follow best practice in your SQL code, making it easier to read and pick up if another person is running your code.</p>
<ul>
<li>Avoid any trailing whitespace</li>
<li>Always capitalize SQL keywords (e.g., SELECT or AS)</li>
<li>Variable names should be in snake case - lower case words separated by underscores (e.g. pupil_age instead of PupilAge)</li>
<li>Comments should go near the top of your query, or at least near the closest SELECT</li>
<li>Try to only comment on things that aren’t obvious about the query (e.g. why hardcoded filters are used, how to update them)</li>
<li>Where possible, use <a href="https://www.essentialsql.com/introduction-common-table-expressions-ctes/" target="_blank" rel="noopener noreferrer">Common Table Expressions (CTEs)</a> early and often, and name them descriptively (e.g. “pupil_age_table” rather than “p”)</li>
</ul>
<hr />
</div>
</div>
</div>
<div id="r" class="section level1">
<h1>R</h1>
<hr />
<div id="what-is-it-1" class="section level2">
<h2>What is it</h2>
<p>R is an open-source programming language specifically aimed at statisticians and data analysts.</p>
<hr />
</div>
<div id="what-is-it-for-1" class="section level2">
<h2>What is it for</h2>
<p>R can be used for almost anything you can think of, notably data analysis, data visualisation, and creating reports and dashboards. It can also be used to extract data from SQL databases and run SQL queries.</p>
<hr />
</div>
<div id="how-to-get-it-1" class="section level2">
<h2>How to get it</h2>
<p>Download R (language), RStudio (IDE) and RTools (helpful extension) from the DfE software centre.</p>
<hr />
</div>
<div id="best-places-to-start" class="section level2">
<h2>Best places to start</h2>
<ul>
<li><p>The <a href="https://dfe-analytical-services.github.io/r-training-course/" target="_blank" rel="noopener noreferrer">DfE R training guide</a> is a great starting point to guide you through how to get started using R and RStudio.</p></li>
<li><p>As an alternative, with a number of options for beginners to R, <a href="https://education.rstudio.com/learn/beginner/" target="_blank" rel="noopener noreferrer">RStudio Education</a> provide a variety of materials to suit different learning styles.</p></li>
</ul>
<hr />
</div>
<div id="best-syntax-lookup-1" class="section level2">
<h2>Best syntax lookup</h2>
<ul>
<li>If you want a useful guide for R syntax or functions, then look no further than the <a href="https://rstudio.com/resources/cheatsheets/" target="_blank" rel="noopener noreferrer">R cheat sheets</a>, these can be an invaluable point of reference. Below we’ve included a few particularly relevant ones:
<ul>
<li>Introduction to the <a href="https://github.com/rstudio/cheatsheets/raw/master/rstudio-ide.pdf" target="_blank" rel="noopener noreferrer">RStudio environment</a></li>
<li><a href="http://github.com/rstudio/cheatsheets/raw/master/base-r.pdf" target="_blank" rel="noopener noreferrer">Base R</a></li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/regex.pdf" target="_blank" rel="noopener noreferrer">Regex</a></li>
<li><a href="https://rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf" target="_blank" rel="noopener noreferrer">RMarkdown</a></li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/shiny.pdf" target="_blank" rel="noopener noreferrer">RShiny</a></li>
<li>Manipulating data with <a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf" target="_blank" rel="noopener noreferrer">dplyr</a></li>
<li>String manipulation with <a href="https://github.com/rstudio/cheatsheets/raw/master/strings.pdf" target="_blank" rel="noopener noreferrer">stringr</a></li>
<li>Visualisations with the <a href="https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf" target="_blank" rel="noopener noreferrer">ggplot2 package</a></li>
<li>Apply functions with <a href="https://github.com/rstudio/cheatsheets/raw/master/purrr.pdf" target="_blank" rel="noopener noreferrer">purrr</a></li>
<li>Finally, <a href="https://github.com/rstudio/cheatsheets/raw/master/data-import.pdf" target="_blank" rel="noopener noreferrer">importing data into R</a></li>
</ul></li>
</ul>
<hr />
</div>
<div id="other-resources-1" class="section level2">
<h2>Other resources</h2>
<ul>
<li><p>There is also the DfE Analytics Academy, who host an <a href="https://trello.com/invite/b/QdDx3VmA/96f273b3438db2bb8ee5feae3943c3d4/analytics-academy-an-r-training-course" target="_blank" rel="noopener noreferrer">online R training course</a>.</p></li>
<li><p>Here is another free introduction to R course by <a href="https://www.quantargo.com/courses/course-r-introduction/" target="_blank" rel="noopener noreferrer">Quantargo</a>.</p></li>
<li><p><a href="https://bookdown.org/yihui/rmarkdown/" target="_blank" rel="noopener noreferrer">R Markdown: The Definitive Guide</a>, hopefully this one should be relatively self-explanatory!</p></li>
<li><p><a href="https://datascienceineducation.com/" target="_blank" rel="noopener noreferrer">Data science in education</a> provides a heavily detailed guide for beginners in R learning to process data, with some well written out sections that may be of interest.</p></li>
<li><p>Handy guide to <a href="https://support.rstudio.com/hc/en-us/articles/200484568-Code-Folding-and-Sections" target="_blank" rel="noopener noreferrer">collapsing and sectioning R code</a> for easy navigation in RStudio.</p></li>
<li><p>Here are <a href="https://towardsdatascience.com/five-tidyverse-tricks-you-may-not-know-about-c5026d5a19da" target="_blank" rel="noopener noreferrer">5 handy tidyverse functions</a> that you should know if you’re using R to process data. Number two is especially useful for those processing wide data into a tidy format!</p></li>
<li><p>MoJ have produced <a href="https://github.com/moj-analytical-services/writing_functions_in_r" target="_blank" rel="noopener noreferrer">guidance on writing functions in R</a></p></li>
<li><p>If you’re wondering how best to make the jump to R from Excel and SQL, take a look at this <a href="https://educationgovuk.sharepoint.com/sites/sarpi/g/WorkplaceDocuments/Forms/AllItems.aspx?FolderCTID=0x012000C61C1076C17C5547A6D6D8C2A27B5D97&amp;View=%7B2B35083D%2D7626%2D48E2%2D9615%2D451544742692%7D&amp;id=%2Fsites%2Fsarpi%2Fg%2FWorkplaceDocuments%2FInducation%20learning%20and%20career%20development%2FCoffee%20and%20Coding%2F181121%5FDavd%5FExceltoR%2FSQL%5FEXCEL%5Fto%5FR%5FHow%5Fto%5FMake%5Fthe%5FJump%2Ehtml&amp;parent=%2Fsites%2Fsarpi%2Fg%2FWorkplaceDocuments%2FInducation%20learning%20and%20career%20development%2FCoffee%20and%20Coding%2F181121%5FDavd%5FExceltoR" target="_blank" rel="noopener noreferrer">coffee and coding presention</a> by David Sands.</p></li>
<li><p>Malcolm Barrett has done some slides on <a href="https://malco.io/slides/hs_dplyr/#1" target="_blank" rel="noopener noreferrer">dplyr</a>, <a href="https://malco.io/slides/hs_ggplot2/#1" target="_blank" rel="noopener noreferrer">ggplot2</a>, and using <a href="https://lar-purrr.netlify.app/#1" target="_blank" rel="noopener noreferrer">purrr</a> which may be useful if you’re looking at learning more about any of those packages.</p></li>
<li><p>Also check out the <a href="https://garthtarr.github.io/meatR/janitor.html" target="_blank" rel="noopener noreferrer">janitor</a> package, it has some particularly powerful functions that are worth a look for tidying and QA’ing data.</p></li>
</ul>
<hr />
</div>
<div id="excel-functions-in-r" class="section level2">
<h2>Excel functions in R</h2>
<hr />
<p>R can do everything you do in excel, but takes out the human error. The reference table below shows how you would carry out popular Excel commands in R.</p>
<p>R comes in with a built-in dataset called “iris”. We’ll use this for all examples so you can recreate them in your local area.</p>
<p><strong>REMEMBER:</strong> R is case sensitive, so all references to column names/entries need to be as-is in the dataset you are looking at. <a href="https://www.rdocumentation.org/packages/janitor/versions/1.2.0/topics/clean_names">Functions exist</a> that can translate all your columns to lower or snake case for ease!</p>
<table>
<colgroup>
<col width="18%" />
<col width="63%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Common Excel Task</strong></th>
<th><strong>Example with iris </strong></th>
<th><strong>How to do in R with dplyr</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Select specific columns</strong></td>
<td>Select only species and petal length</td>
<td><code>iris %&gt;% select(Species, Petal.Length)</code></td>
</tr>
<tr class="even">
<td><strong>List unique entries in field (column)</strong></td>
<td>Find the unique entries for the “Species” column in iris</td>
<td><code>iris %&gt;% select(Species) %&gt;% distinct()</code></td>
</tr>
<tr class="odd">
<td><strong>Filter/select based on criteria</strong></td>
<td>Filter for sepal length &gt;4 and sepal width &lt;2.5, but NOT “versicolor” species</td>
<td><code>iris %&gt;% filter(Sepal.Length &gt; 4 &amp;</code> <br /> <code>Sepal.Width &lt;2.5 &amp; Species != "versicolor")</code></td>
</tr>
<tr class="even">
<td><strong>Filter for multiple criteria in same column</strong></td>
<td>Filter for all “setosa” and “versicolor” species</td>
<td><code>iris %&gt;% filter(Species %in% c("setosa", "versicolor")</code></td>
</tr>
<tr class="odd">
<td><strong>If else with OR</strong></td>
<td>Create new column called “size_group” based on length or width of petal</td>
<td><code>iris %&gt;% mutate(size_group =</code><br /><code>if_else( Petal.Length &gt; 4 | Petal.Width &gt;1.5, "Large", "Small"))</code></td>
</tr>
<tr class="even">
<td><strong>Multiple if else</strong></td>
<td>Create new column called “flower_price” based on species and petal length</td>
<td><code>iris %&gt;%  mutate(flower_price = case_when(</code> <br /> <code>Species == "setosa" &amp; Petal.Length &gt; 1.5 ~"top band",</code><br /><code>Species == "versicolor" &amp; Petal.Length &lt; 4 ~"low_band",</code><br /> <code>TRUE ~ "mid_band"))</code></td>
</tr>
<tr class="odd">
<td><strong>COUNTIF</strong></td>
<td>Count the number of species if they have a petal length &gt;1.5</td>
<td><code>iris %&gt;% filter(Petal.Length &gt; 1.5 ) %&gt;%</code><br /><code>group_by(Species) %&gt;% count()</code></td>
</tr>
<tr class="even">
<td><strong>SUMIF</strong></td>
<td>Sum petal width of species if sepal width &lt;3</td>
<td><code>iris %&gt;% filter(Sepal.Width &lt;3) %&gt;%</code><br /><code>group_by(Species) %&gt;%</code><br /><code>summarise(Petal.Width = sum(Petal.Width))</code></td>
</tr>
<tr class="odd">
<td><strong>VLOOKUP</strong></td>
<td>Lookup to a table called “lookup”</td>
<td><code>iris %&gt;%  left_join(lookup, by.x="Species", by.y ="plant_species")</code></td>
</tr>
<tr class="even">
<td><strong>Order by</strong></td>
<td>Order dataset by descending petal width</td>
<td><code>iris %&gt;% arrange(desc(Petal.Width))</code></td>
</tr>
</tbody>
</table>
<hr />
</div>
<div id="quick-fixes" class="section level2">
<h2>Quick fixes</h2>
<hr />
<p>A selection of handy bits of code and workarounds for common issues.</p>
<hr />
<div id="renvrestore" class="section level3">
<h3>renv::restore()</h3>
<p>Sometimes renv::restore() can fail, and when in specific renv-controlled projects install.packages() will fail saying that packages aren’t available even when they clearly are. This seems to be an issue that can be worked around by specifying the renv library as the install location. It’s a bit of a fudge, though these lines are helpful to get the packages from the renv lockfile installed and you running the project when needed:</p>
<pre><code>myPath &lt;- .libPaths()[1]

forceInstall &lt;- function(pkg, path) {
missing &lt;- suppressWarnings(eval(parse(text= paste0(&quot;!require(&quot;,pkg,&quot;)&quot;))))

if(missing == FALSE){
message(pkg, &quot; is already installed.&quot;)
} else{
install.packages(pkg, lib = path)
}
}

forceInstall(&quot;jsonlite&quot;, myPath)

renvPackages &lt;- names(jsonlite::fromJSON(&quot;renv.lock&quot;, flatten = TRUE)$Packages)

invisible(lapply(renvPackages, forceInstall, path = myPath))</code></pre>
<p>More manual equivalent to use for specific packages:</p>
<pre><code>.libPaths() # note down output 1, and reuse in the lib argument of install.packages() as below

install.packages(&quot;rmarkdown&quot;, lib = &quot;C:/Users/swong/OneDrive - Department for Education/Documents/stats-production-guidance/renv/library/R-4.0/x86_64-w64-mingw32&quot;)
</code></pre>
<hr />
</div>
<div id="specifying-a-version-of-r-to-use" class="section level3">
<h3>Specifying a version of R to use</h3>
<p>This can be done most easily by navigating in RStudio through <code>Tools &gt; Global options &gt; General &gt; Basic &gt; R version (change)</code>. It’s likely you’ll need to restart RStudio for the changes to take affect.</p>
<hr />
</div>
<div id="mutating-columns" class="section level3">
<h3>Mutating columns</h3>
<p>Where you have a simple if else scenario use <code>mutate(col = if_else(expression, TRUE, FALSE)</code>, rather than <code>mutate(col = case_when(expression ~ TRUE, TRUE ~FALSE)</code> it’s both quicker and easier on the eye!</p>
<hr />
</div>
<div id="rounding" class="section level3">
<h3>Rounding</h3>
<p>The base R function of round() rounds 5’s downwards. To round them upwards you can create a custom function like the one below:</p>
<pre><code>roundFiveUp &lt;- function(x, n){ 
    z = abs(x)*10^n 
    z = z + 0.5 + sqrt(.Machine$double.eps) 
    z = trunc(z) 
    z = z/10^n 
    positiveNegative = sign(x) 
    return(z * positiveNegative) 
}</code></pre>
<hr />
</div>
<div id="passing-variables-as-arguments" class="section level3">
<h3>Passing variables as arguments</h3>
<p>This can be worked around by using a combination of <code>eval()</code> and <code>parse()</code>, as shown in the below function:</p>
<pre><code>showFilterLevels &lt;- function(data, meta) {
  filters &lt;- meta %&gt;%
    filter(col_type == &quot;Filter&quot;) %&gt;%
    pull(col_name)

  levelsTable &lt;- function(filter) {
    return(eval(parse(text = paste0(&quot;data %&gt;% select(&quot;, filter, &quot;) %&gt;% distinct()&quot;))))
  }

  output &lt;- lapply(filters, levelsTable)

  return(output)
}</code></pre>
<hr />
</div>
<div id="reverse-additive-filters" class="section level3">
<h3>Reverse additive filters</h3>
<p>You might want to filter your dataset based on multiple negative conditions. Normally to filter on multiple conditions, you would use <code>filter(condition1 &amp; condition2)</code>. The “filter” function does not work well with negative conditions (i.e. filtering for cases where condition 1 and condition 2 are not met). Instead, you can use <code>subset(!(condition1 &amp; condition2)</code>.</p>
<hr />
</div>
<div id="file-locations" class="section level3">
<h3>File locations</h3>
<p>Struggling to get files to talk to one another, or get code to find and use another R script? Use <code>here::here()</code> and marvel at it’s wondrous ability to magic away issues.</p>
<hr />
</div>
<div id="interweaving-vectors" class="section level3">
<h3>Interweaving vectors</h3>
<p>There’s an easy way to interweave multiple vectors into one single vector using c(rbind()). The example below shows two vectors, but you can have even more if you need.</p>
<pre><code>#Two vectors, x and y
x &lt;- 1:3
y &lt;- 4:6

#Run code to interweave
c(rbind(x, y))

#Output below
# [1] 1 4 2 5 3 6</code></pre>
<hr />
</div>
<div id="remember-the-outline" class="section level3">
<h3>Remember the outline</h3>
<p>In RStudio you can greatly increase the navigability of your code by taking advantage of outlines. <a href="https://support.rstudio.com/hc/en-us/articles/200484568-Code-Folding-and-Sections" target="_blank" rel="noopener noreferrer">More information on folding and navigating outlines in RStudio</a> can be found online, though when using rmarkdown reports, remember to use names first, such as <code>## Rows that aren't matching: r nrow(joined %&gt;% filter(matching == FALSE))</code>, rather than having the R code first, so that they are easy to discern in the outline.</p>
<hr />
</div>
<div id="making-charts-interactive" class="section level3">
<h3>Making charts interactive</h3>
<p>When pulling ggplot charts into RMarkdown reports, you can consider making them even more user-friendly and interactive with plotly. <a href="https://plotly.com/ggplot2" target="_blank" rel="noopener noreferrer">Further information on how to make your charts interactive with plotly</a> can be found online.</p>
<pre><code>#Simple ggplot chart called &quot;p&quot;
p &lt;- ggplot(dat, aes(x=xvar, y=yvar)) +
    geom_point(shape=1)      # Use hollow circles

#Apply ggplotly() to it to make it interactive
fig &lt;- ggplotly(p)
</code></pre>
<hr />
</div>
<div id="updating-packages-in-renv" class="section level3">
<h3>Updating packages in renv</h3>
<p>To update a single package run:</p>
<p><code>renv::update("dplyr")</code></p>
<p>To update all packages run:</p>
<p><code>renv::update()</code></p>
<hr />
</div>
<div id="installing-old-package-versions-in-renv" class="section level3">
<h3>Installing old package versions in renv</h3>
<p>This is surprisingly neat to do. Let’s say you wanted to roll back to version 1.0.2 of dplyr, you would run the following:</p>
<p><code>renv::install("dplyr@1.0.2")</code></p>
<hr />
</div>
</div>
</div>
<div id="git" class="section level1">
<h1>Git</h1>
<hr />
<div id="what-is-it-2" class="section level2">
<h2>What is it</h2>
<p>It is a version control software. It is by far the best of its kind and is widely used by software developers and data scientists.</p>
<hr />
</div>
<div id="what-is-it-for-2" class="section level2">
<h2>What is it for</h2>
<p>Git is a version control software that tracks changes to files within a folder that you assign Git to track. It works best with plain text files such as flat data files, code scripts and markdown documents. These folders are known as repositories and can be held and managed securely in a central online place such as GitHub (best for public), GitLab (can be good for either public or private) and Azure DevOps (best for private).</p>
<hr />
</div>
<div id="how-to-get-it-2" class="section level2">
<h2>How to get it</h2>
<p>Download it from the <a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">Git website</a>.</p>
<p>Git doesn’t have an IDE, instead it will either integrate with your current IDE such as RStudio or Visual Studio Code, or run in the command line.</p>
<hr />
</div>
<div id="best-places-to-start-1" class="section level2">
<h2>Best places to start</h2>
<!-- worth us linking to how to create a git repo for azure and for github once our dashboard guidance is out? -->
<ul>
<li><p>If you’re new to Git and are unsure of what it does, then take a look through these <a href="https://speakerdeck.com/alicebartlett/git-for-humans" target="_blank" rel="noopener noreferrer">Git for humans slides</a></p></li>
<li><p><a href="https://educationgovuk.sharepoint.com/sites/sarpi/g/WorkplaceDocuments/Forms/AllItems.aspx?id=%2Fsites%2Fsarpi%2Fg%2FWorkplaceDocuments%2FInducation%20learning%20and%20career%20development%2FCoffee%20and%20Coding%2F190220%5Fdavid%5Fgoeeygit%2Fgooey%5Fgit%2Ehtml&amp;parent=%2Fsites%2Fsarpi%2Fg%2FWorkplaceDocuments%2FInducation%20learning%20and%20career%20development%2FCoffee%20and%20Coding%2F190220%5Fdavid%5Fgoeeygit" target="_blank" rel="noopener noreferrer">Gooey Git</a> by David Sands, provides a very neat overview of using git with R.</p></li>
</ul>
<hr />
</div>
<div id="best-syntax-lookup-2" class="section level2">
<h2>Best syntax lookup</h2>
<ul>
<li>GitHub have created a <a href="https://education.github.com/git-cheat-sheet-education.pdf" target="_blank" rel="noopener noreferrer">cheat sheet for git commands</a>.</li>
</ul>
<hr />
</div>
<div id="other-resources-2" class="section level2">
<h2>Other resources</h2>
<ul>
<li><p>Avison Ho and Linda Bennett gave this coffee and coding presentation on <a href="https://github.com/avisionh/SQL-Titbits/wiki/User-Guide:-SQL-x-Git-Version-Control" target="_blank" rel="noopener noreferrer">version controlling SQL with Git</a>.</p></li>
<li><p><a href="https://happygitwithr.com/big-picture.html" target="_blank" rel="noopener noreferrer">Happy Git</a> is a useful (though detailed) guide to setting up and using git.</p></li>
<li><p>Adam Robinson and Zach Waller have produced <a href="https://dfe-analytical-services.github.io/vsts-for-analysis/" target="_blank" rel="noopener noreferrer">guidance for how to use git in Azure DevOps (formally VSTS)</a>, which gives a detailed guide on how to use version control software in DfE analysis.</p></li>
<li><p>While also mentioned above as a resource for learning R, chapter 6 of ESFA’s <a href="https://rsconnect/rsc/esfa-r-training/git-building-intuition.html" target="_blank" rel="noopener noreferrer">guide to R and Git</a> is also worth looking at for Git alone.</p></li>
<li><p>Microsoft have produced documentation on <a href="https://docs.microsoft.com/en-us/azure/devops/user-guide/code-with-git?view=azure-devops" target="_blank" rel="noopener noreferrer">using Git</a> within <a href="https://docs.microsoft.com/en-us/azure/devops/user-guide/what-is-azure-devops?view=azure-devops" target="_blank" rel="noopener noreferrer">AzureDevOps</a>.</p></li>
<li><p>For those wanting to go deeper into understand the variety of git commands and what they do, there is a great <a href="https://dev.to/lydiahallie/cs-visualized-useful-git-commands-37p1" target="_blank" rel="noopener noreferrer">online visual resource</a>.</p></li>
<li><p>We also have a number of helpful sections on using git in practice at the end of our <a href="rap.html#Build_capability_within_the_team" target="_blank" rel="noopener noreferrer">RAP page</a>.</p></li>
</ul>
<hr />
</div>
<div id="how-to-use-git" class="section level2">
<h2>How to use Git</h2>
<hr />
<div id="branches" class="section level3">
<h3>Branches</h3>
<p>When you create a git project, it will automatically create a “master” branch for you. This is where code that has been QAd and you are happy with should sit.</p>
<ul>
<li>It is good practice to have at least one other branch, we tend to call it “development”. This is the branch where you will be doing most of your work. To open a new branch, navigate to “branches” and click on the blue box highlighted below</li>
</ul>
<p><img src="images/new_branch_git.png" /><!-- --></p>
<ul>
<li><p>Having two separate branches means that if anything goes wrong in the “development” branch, everything can be reverted to the last QAd version in “master”, without having to lose too much work.</p></li>
<li><p>When working on your project, make sure that you are in the “development” branch. You can check this by navigating to the “Git” tab in RStudio as demonstrated below.</p></li>
</ul>
<p><img src="images/select_branch.png" /><!-- --></p>
<hr />
</div>
<div id="commits" class="section level3">
<h3>Commits</h3>
<p>Once you are happy with changes and want them to be in the latest “development” version of the repository for all of your team to see, you can push “commits” up.</p>
<ul>
<li>When you make a change to a file, this will pop up in the “Git” window of your R console. Select the files you want to commit by ticking the “staged” box next to them.</li>
</ul>
<p><img src="images/git_stage.png" /><!-- --></p>
<ul>
<li>This will bring up a new window. Add a comment describing your additions/changes, and click commit. You will see all the staged files disappear. Then click “Push” to push the committed files up to the online repository for all to use.</li>
</ul>
<p><img src="images/git_push.png" /><!-- --></p>
<ul>
<li>When another member of your team makes a commit and you want to pull this into your local area to check and work off the latest version, click on the blue “pull” button.</li>
</ul>
<p><img src="images/pull_git.png" /><!-- --></p>
<hr />
</div>
<div id="pull-requests" class="section level3">
<h3>Pull requests</h3>
<p>When you have got to a place with the code and your committed changes where you are happy for it to be QAd, you can open a pull request. This means that the “development” branch will be merged into “master”, and will become the latest QAd version of the production code that the team falls back on.</p>
<ul>
<li><p>Navigate to “Pull Requests” in the “Repos” tab of Azure DevOps and click the blue “New pull request” button.</p></li>
<li><p>This will take you to a new window. Here, you can add:</p>
<ul>
<li>Title, tell your team what has changed</li>
<li>Description, tell your reviewer what they should check</li>
<li>Reviewers, add multiple if needed.</li>
</ul></li>
<li><p>As a reviewer, to approve a pull request, follow the link in your email and click “approve” in the blue box. When all reviewers are happy for this to be the new master branch, click “complete”.</p></li>
</ul>
<p>Creating pull requests in GitHub follows a broadly similar process and should be intuitive from the above steps for Azure DevOps.</p>
<hr />
</div>
<div id="cherry-picking" class="section level3">
<h3>Cherry picking</h3>
<p>If you want to cherry pick specific commits for PR, you can do this by cherry picking the commits you want to use, and creatng a new branch that has only those new commits that you want.</p>
<p>To start off you’ll need to identify the commits you want. In the terminal, run <code>git log --oneline</code> to get a log of commits for your current branch, use <code>git log --online BRANCHNAME</code> to specific the branch for the log. This gives a list of commit hashes and messages (<a href="https://stackoverflow.com/questions/43763896/whats-the-difference-between-commit-id-and-sha1-hash-in-git" target="_blank" rel="noopener noreferrer">stackoverflow response defining git hashes and commmit ID’s</a>). You can press enter to get more commits, or q to quit</p>
<p>Then go to the branch you want the commit to appear on and cherry pick your commits. Often, if this is to hop around something on a development to master pr, you would create a second development branch, cherry pick commits to there, and then PR that to master and delete the branch after merging.</p>
<p>On the branch you want to PR (i.e. your copy of a development branch purely for merging only cherry picked commits) run <code>git cherry-pick COMMITHASH</code> to add the specified commit, or <code>git cherry-pick HASH1^..HASH4</code> for a specified list of commits (inclusive).</p>
<p>Happy days!</p>
<hr />
</div>
<div id="tagging-release-versions" class="section level3">
<h3>Tagging release versions</h3>
<!-- future best pratice?! -->
<p>It can be useful to tag specific commits or releases at key points in time. For us a common example will be each publication cycle, to tag the version of the code used to process data for a particular release or amendment.</p>
<p>Guidance on how to tag releases using git can be found on the draft version of the <a href="https://best-practice-and-impact.github.io/qa-of-code-guidance/version_control.html#releases-tagging" target="_blank" rel="noopener noreferrer">BPI code guidance</a></p>
<hr />
</div>
<div id="merging-a-branch-into-another-one" class="section level3">
<h3>Merging a branch into another one</h3>
<p>For example if you are working on a feature branch, and want to merge the latest changes to the master branch to your feature branch.</p>
<p>Start off by checking out your desired target branch - <code>git checkout mybranch</code>. Then merge in the branch you want (e.g. master) - <code>git merge master</code>.</p>
<hr />
</div>
<div id="visualising-your-tree" class="section level3">
<h3>Visualising your tree</h3>
<p>You can use <code>gitk --all</code> to visualise a tree of all previous commits up to this point.</p>
<p><img src="images/gitk.png" /><!-- --></p>
<hr />
</div>
<div id="getting-commit-ids" class="section level3">
<h3>Getting commit IDs</h3>
<p>Commit IDs are the way Git identifies unique commits. They’re really helpful if you ever need to revert back to a previous commit if you’ve made a mistake.</p>
<p>There are lots of different ways to find out commit IDs:</p>
<ul>
<li><p>Visit the repo in Azure Devops and go to the commit of interest. At the top of the page there is a commit ID you can copy.</p></li>
<li><p>Navigate to the repo in your file explorer, then open up Git Bash and type</p></li>
</ul>
<p><code>git log --pretty=format:"%h - %an, %ar : %</code></p>
<p>OR</p>
<p><code>git log --pretty=oneline</code></p>
<p>There are a number of customisable versions of this, more information is available on the <a href="https://git-scm.com/book/en/v2/Git-Basics-Viewing-the-Commit-History" target="_blank" rel="noopener noreferrer">Git website</a>.</p>
<hr />
</div>
<div id="reverting-a-commit" class="section level3">
<h3>Reverting a commit</h3>
<p>Made a mistake and need to revert? No problem!</p>
<ol style="list-style-type: decimal">
<li>Navigate to the repo in your file explorer, then open up Git Bash and type :</li>
</ol>
<p><code>git revert [PASTE COMMIT ID HERE]</code></p>
<ol start="2" style="list-style-type: decimal">
<li><p>This opens up a window that asks you to write a commit message. YOu can skip this step as it automatically writes a revert message for you. Enter <code>:wq</code> which quits the writer window.</p></li>
<li><p>You can now push these changes to Azure Devops by entering <code>git push</code> into the git window</p></li>
</ol>
<hr />
</div>
</div>
</div>
<div id="further-notes" class="section level1">
<h1>Further notes</h1>
<hr />
<p>For more information on how to use these tools in your production processes, please see the <a href="rap.html" target="_blank" rel="noopener noreferrer">production processes</a> page.</p>
<p>This is by no means a finite list of resources, we want this to be added to and for it to develop over time - if you have any resources that you think could be added then we’d love to <a href="mailto:statistics.development@education.gov.uk">hear from you</a>.</p>
<p>If you are stuck at all, have any questions, want to find a resource, or even just want a second pair of eyes to double check something, contact us using the envelope in the top right corner and we’ll be more than happy to help.</p>
<hr />
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
